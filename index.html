<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
<script>
    const config = {
      apiKey: "AIzaSyACJJPHaq3VCpnh1SyCehiwTiQf3IEiY78",
      authDomain: "stock-app-1f470.firebaseapp.com",
      databaseURL: "https://stock-app-1f470-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "stock-app-1f470",
      storageBucket: "stock-app-1f470.firebasestorage.app",
      messagingSenderId: "474136651144",
      appId: "1:474136651144:web:4ff02c92036c4b4ca8063d"
    };
    try {
        firebase.initializeApp(config);
        console.log("初始化成功，尝试连接...");
        firebase.database().ref('.info/connected').on('value', s => {
            if(s.val() === true) alert("✅ 连接成功！是代码逻辑问题");
            else console.log("⏳ 正在连接...");
        });
    } catch(e) {
        alert("❌ 初始化就挂了: " + e.message);
    }
</script>
